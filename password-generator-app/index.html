<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Random Password Generator - Easy Tutorials</title>
  <link rel="stylesheet" href="main.css">
</head>

<body>
  <div class="container">
    <h1>Generate a <br /><span>Random Password</span></h1>
    <div class="display">
      <input type="text" id="passowrd" placeholder="ë¹„ë°€ë²ˆí˜¸" />
      <img src="/images/copy.png" alt="" onclick="copyPassword()">
      <span id="copy-feedback" class="hidden-feedback">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰</span>
    </div>
    <button onclick="createPassword()"><img src="/images/generate.png" alt="">Cenerate Password</button>
  </div>
  <script>
    const passwordBox = document.getElementById("passowrd");
    const feedbackElement = document.getElementById("copy-feedback");
    // ìƒì„±í•  ë¹„ë°€ë²ˆí˜¸ì˜ ì´ ê¸¸ì´ë¥¼ 12ë¡œ ì„¤ì •
    const lenght = 12;

    // ë¹„ë°€ë²ˆí˜¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ëŒ€ë¬¸ì(Uppercase)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
    const upperCase = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    // ë¹„ë°€ë²ˆí˜¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†Œë¬¸ì(Lowercase)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
    const lowerCase = "abcdefghijklmnopqrstuvwxyz";
    // ë¹„ë°€ë²ˆí˜¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìˆ«ì(Number)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
    const number = "0123456789";
    // ë¹„ë°€ë²ˆí˜¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íŠ¹ìˆ˜ ê¸°í˜¸(Symbol)ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
    const symbol = "@#$%^&*()_+~|}{[]></-=";

    // ì •ì˜í•œ ëª¨ë“  ì¢…ë¥˜ì˜ ë¬¸ì(ëŒ€ë¬¸ì, ì†Œë¬¸ì, ìˆ«ì, ê¸°í˜¸)ë¥¼ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ í•©ì¹©ë‹ˆë‹¤.
    const allChars = upperCase + lowerCase + number + symbol;

    function createPassword() {
      // ìƒˆë¡œ ìƒì„±ë  ë¹„ë°€ë²ˆí˜¸ë¥¼ ì €ì¥í•  ë¹ˆ ë¬¸ìì—´ ë³€ìˆ˜(passowrd)ë¥¼ ì´ˆê¸°í™”í•©
      let passowrd = "";

      //    Math.random() * upperCase.length: 0ë¶€í„° (ëŒ€ë¬¸ì ê°œìˆ˜ - 1) ì‚¬ì´ì˜ ë‚œìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
      //    Math.floor(): ì†Œìˆ˜ì ì„ ë²„ë¦¬ê³  ì •ìˆ˜ë¡œ ë§Œë“­ë‹ˆë‹¤.
      //    upperCase[...]: í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ë¬¸ìë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

      // 1. ëŒ€ë¬¸ì ì¤‘ í•˜ë‚˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
      passowrd += upperCase[Math.floor(Math.random() * upperCase.length)];
      // 2. ì†Œë¬¸ì ì¤‘ í•˜ë‚˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
      passowrd += lowerCase[Math.floor(Math.random() * lowerCase.length)];
      // 3. ìˆ«ì ì¤‘ í•˜ë‚˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
      passowrd += number[Math.floor(Math.random() * number.length)];
      // 4. íŠ¹ìˆ˜ ê¸°í˜¸ ì¤‘ í•˜ë‚˜ë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ íƒí•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
      passowrd += symbol[Math.floor(Math.random() * symbol.length)];

      // í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ì˜ ê¸¸ì´ê°€ ëª©í‘œ ê¸¸ì´(lenght, 12)ë³´ë‹¤ ì‘ìœ¼ë©´ ê³„ì† ë°˜ë³µí•©ë‹ˆë‹¤.
      while (lenght > passowrd.length) {
        // allChars (ëª¨ë“  ë¬¸ì ì§‘í•©) ì¤‘ì—ì„œ ë¬´ì‘ìœ„ë¡œ ë¬¸ìë¥¼ í•˜ë‚˜ ì„ íƒí•˜ì—¬ ë¹„ë°€ë²ˆí˜¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.
        passowrd += allChars[Math.floor(Math.random() * allChars.length)];
      }
      // ìµœì¢…ì ìœ¼ë¡œ ì™„ì„±ëœ ë¹„ë°€ë²ˆí˜¸ë¥¼ HTML ì…ë ¥ í•„ë“œ(passwordBox)ì— í‘œì‹œ
      passwordBox.value = passowrd;
    }

    function copyPassword() {
      // ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ(passwordBox)ì˜ ë‚´ìš©ì„ ì„ íƒ(í•˜ì´ë¼ì´íŠ¸)í•©ë‹ˆë‹¤.
      passwordBox.select();

      // ëª¨ë°”ì¼ í™˜ê²½ì„ ìœ„í•œ ì„ íƒ ë²”ìœ„ ì„¤ì • (ì„ íƒ ì‚¬í•­)
      passwordBox.setSelectionRange(0, 99999);

      // í´ë¦½ë³´ë“œì— ë³µì‚¬ ëª…ë ¹ ì‹¤í–‰
      document.execCommand('copy');

      // â­ ë³µì‚¬ ì™„ë£Œ í”¼ë“œë°± í‘œì‹œ ë¡œì§ â­

      // 1. ë©”ì‹œì§€ ìš”ì†Œë¥¼ ë³´ì´ê²Œ ë§Œë“­ë‹ˆë‹¤. (CSS í´ë˜ìŠ¤ ë³€ê²½)
      feedbackElement.classList.add('show-feedback');
      feedbackElement.classList.remove('hidden-feedback');

      // 2. 1.5ì´ˆ(1500ms) í›„ì— ë©”ì‹œì§€ë¥¼ ë‹¤ì‹œ ìˆ¨ê¹ë‹ˆë‹¤.
      setTimeout(() => {
        feedbackElement.classList.remove('show-feedback');
        // opacityê°€ 0ì´ ëœ í›„ display: none ì²˜ë¦¬ (ì™„ì „íˆ í™”ë©´ì—ì„œ ì œê±°)
        setTimeout(() => {
          feedbackElement.classList.add('hidden-feedback');
        }, 500); // CSS transition ì‹œê°„(0.5s)ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì •

      }, 1500); // 1.5ì´ˆ ë™ì•ˆ ë©”ì‹œì§€ í‘œì‹œ
    }
  </script>
</body>

</html>